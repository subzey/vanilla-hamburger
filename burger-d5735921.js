const t='<div part="bar"></div>',e=t=>{const e=document.createElement("template");return e.innerHTML=t,e},s=(t,e)=>{const s=t.shadowRoot||t.attachShadow({mode:"open"});return s.appendChild(e.content.cloneNode(!0)),s},i=t=>Array.from(t.querySelectorAll("div")).map(t=>t.style),n=(t,e)=>{for(const s in e)t.setProperty(s,e[s])},r=e("\n<style>\n  :host {\n    display: block;\n    position: relative;\n    width: 48px;\n    height: 48px;\n    cursor: pointer;\n    -webkit-user-select: none;\n    user-select: none;\n  }\n\n  :host([hidden]) {\n    display: none !important;\n  }\n\n  [part] {\n    background: currentColor;\n    position: absolute;\n  }\n</style>\n"),a={size:32,direction:"left",distance:"md",duration:.4,easing:"cubic-bezier(0, 0, 0, 1)",pressed:!1};class d extends HTMLElement{constructor(){super(),this._updatePromise=Promise.resolve(),s(this,r),this.addEventListener("click",this),this.addEventListener("keydown",this)}static get observedAttributes(){return["distance","duration","easing","pressed","size"]}get easing(){return this._easing}set easing(t){this._easing=t,this.update()}get distance(){return this._distance}set distance(t){this._distance=t,this.update()}get duration(){return this._duration}set duration(t){this._duration=t,this.update()}get pressed(){return this._pressed}set pressed(t){this._pressed=t,this.setAttribute("aria-pressed",""+!!t),this.update()}get size(){return this._size}set size(t){this._size=t,this.update()}connectedCallback(){this.setAttribute("role","button"),this.setAttribute("tabindex","0"),this.constructor.observedAttributes.forEach(t=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this[t]=e}else this[t]||(this[t]=a[t])})}attributeChangedCallback(t,e,s){if(e!==s){let e=s;"size"===t||"distance"===t?e=null===s?null:Number(s):"pressed"===t&&(e=null!==s),this[t]=e}}handleEvent(t){("keydown"===t.type&&"Enter"===t.key||"click"===t.type)&&(this.pressed=!this.pressed,this.dispatchEvent(new CustomEvent("pressed-changed",{detail:{value:this.pressed}})))}getRenderOptions(){const{distance:t,lines:e}=this,s=Math.max(12,Math.min(48,this.size)),i=Math.round((48-s)/2),n=s/12,r=Math.round(n),a=s/(e*(("lg"===t?.25:"sm"===t?.75:.5)+(3===e?1:1.25))),d=Math.round(a),h=r*e+d*(e-1),o=Math.round((48-h)/2);return{barHeight:r,barStyles:{height:r+"px",left:i+"px",width:s+"px"},margin:d,move:parseFloat((s/(3===e?"lg"===t?4.0425:"sm"===t?5.1625:4.6325:"lg"===t?6.7875:"sm"===t?8.4875:7.6675)-(n-r+(a-d))/(3===e?1:2)/(4/3)).toFixed(2)),pressed:this.pressed,time:Math.max(0,this.duration),topOffset:o}}update(){this._updating||(this._updatePromise=this._enqueueUpdate())}async _enqueueUpdate(){this._updating=!0,await this._updatePromise,this.render(this.getRenderOptions()),this._updating=!1}}export{d as B,s as a,t as b,e as c,a as d,i as g,n as s};
